@model Proyecto_Facultad.Models.Alumno

@{
    ViewData["Title"] = "Crear Alumno";
    Layout = "_Layout"; 
}

<h2 class="text-primary">Crear alumno</h2>

<form asp-action="Create" method="post">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="PrimerNombreAlumno" class="form-label"></label>
                <input asp-for="PrimerNombreAlumno" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="PrimerNombreAlumno" class="text-danger"></span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="SegundoNombreAlumno" class="form-label"></label>
                <input asp-for="SegundoNombreAlumno" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="SegundoNombreAlumno" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="PrimerApellidoAlumno" class="form-label"></label>
                <input asp-for="PrimerApellidoAlumno" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="PrimerApellidoAlumno" class="text-danger"></span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="SegundoApellidoAlumno" class="form-label"></label>
                <input asp-for="SegundoApellidoAlumno" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="SegundoApellidoAlumno" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="FechaNacimientoAlumno" class="form-label"></label>
                <input asp-for="FechaNacimientoAlumno" type="date" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="FechaNacimientoAlumno" class="text-danger"></span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="FechaBautizoAlumno" class="form-label"></label>
                <input asp-for="FechaBautizoAlumno" type="date" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="FechaBautizoAlumno" class="text-danger"></span>
            </div>
        </div>
    </div>

   <div class="row">
    <div class="col-md-6">
       <div class="form-group">
        <label asp-for="Direccion" class="form-label"></label>
        <input asp-for="Direccion" class="form-control" style="width: 400px; height: 38px;" />
        <span asp-validation-for="Direccion" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-6">
       <div class="form-group">
        <label asp-for="Telefono" class="form-label"></label>
        <input asp-for="Telefono" class="form-control" style="width: 400px; height: 38px;" />
        <span asp-validation-for="Telefono" class="text-danger" maxlength="8" minlength="8" pattern="\d{8}"></span>
      </div>
    </div>
   </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="Dpi" class="form-label"></label>
                <input asp-for="Dpi" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="Dpi" class="text-danger" maxlength="13" minlength="13" pattern="\d{13}"></span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="Nit" class="form-label"></label>
                <input asp-for="Nit" class="form-control" style="width: 400px; height: 38px;" />
                <span asp-validation-for="Nit" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="EstadoCivil" class="form-label"></label>
                <select asp-for="EstadoCivil" class="form-control" style="width: 400px; height: 38px;">
                    <option value="">Seleccione</option>
                    <option value="1">Soltero</option>
                    <option value="2">Casado</option>
                    <option value="3">Divorciado</option>
                    <option value="4">Viudo</option>
                </select>
                <span asp-validation-for="EstadoCivil" class="text-danger"></span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label asp-for="Genero" class="form-label"></label>
                <select asp-for="Genero" class="form-control" style="width: 400px; height: 38px;">
                    <option value="" default>Seleccione</option>
                    <option value="Masculino">Masculino</option>
                    <option value="Femenino">Femenino</option>
                </select>
                <span asp-validation-for="Genero" class="text-danger"></span>
            </div>
        </div>
    </div>

<div class="row">
  <div class="col-md-6">
    <div class="form-group">
        <label asp-for="NumeroCelula" class="form-label"></label>
        <select asp-for="NumeroCelula" class="form-control" style="width: 400px; height: 38px;">
            <option value="">Ninguno</option>
            <option value="Mujeres">Mujeres(Solteras o Casadas)</option>
            <option value="Familiares">Familiares(Familia y Todo el que Necesita Familia)</option>
            <option value="JovenesFrater">Jovenes Frater(15 a 23 Años)</option>
            <option value="JovenesAdultosFrater">Jovenes Adultos Frater(23 Años en Adelante)</option>
            <option value="MatrimoniosJovenes">Matrimonios Jovenes (0 a 15 Años Casados)</option>
            <option value="MatrimoniosFrater">Matrimonios Frater(15 + Años casados)</option>
            <option value="RDI">RDI(Hombres Solteros o Casados)</option>
        </select>
        <span asp-validation-for="NumeroCelula" class="text-danger"></span>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
        <label asp-for="CodigoFrater" class="form-label"></label>
        <input asp-for="CodigoFrater" class="form-control" style="width: 400px; height: 38px;" />
        <span asp-validation-for="CodigoFrater" class="text-danger"></span>
    </div>
  </div>
</div>
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label">Inscrito</label>
                <div class="form-check">
                    <input type="checkbox" asp-for="Becado" class="form-check-input" />
                    <label class="form-check-label">Sí</label>
                </div>
                <span asp-validation-for="Becado" class="text-danger"></span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label">Retiro</label>
                <div class="form-check">
                    <input type="checkbox" asp-for="Retiro" class="form-check-input" />
                    <label class="form-check-label">Sí</label>
                </div>
                <span asp-validation-for="Retiro" class="text-danger"></span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label">Reuniones en Confianza</label>
                <div class="form-check">
                    <input type="checkbox" asp-for="ReunionesEnConfianza" class="form-check-input" />
                    <label class="form-check-label">Sí</label>
                </div>
                <span asp-validation-for="ReunionesEnConfianza" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">Otros</label>
        <div class="form-check">
            <input type="checkbox" asp-for="Otros" class="form-check-input" />
            <label class="form-check-label">Sí</label>
        </div>
        <span asp-validation-for="Otros" class="text-danger"></span>
    </div>



    <div class="form-group text-end">
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a asp-action="Index" class="btn btn-secondary">Cancelar</a>
    </div>



</form>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.querySelector('form').addEventListener('submit', function (event) {
            var fechaNacimientoInput = document.getElementById('fechaNacimiento');
            var fechaNacimientoError = document.getElementById('fechaNacimientoError');
            var fechaBautizoInput = document.getElementById('fechaBautizo');
            var fechaBautizoError = document.getElementById('fechaBautizoError');
            var telefonoInput = document.getElementById('telefono');
            var telefonoError = document.getElementById('telefonoError');

            var fechaNacimiento = new Date(fechaNacimientoInput.value);
            var fechaBautizo = new Date(fechaBautizoInput.value);
            var today = new Date();
            today.setHours(0, 0, 0, 0);

            var valid = true;

            if (fechaNacimiento > today) {
                fechaNacimientoError.textContent = "La fecha de nacimiento no puede ser mayor que la fecha actual.";
                valid = false;
            } else {
                fechaNacimientoError.textContent = "";
            }

            if (fechaBautizo && fechaBautizo > today) {
                fechaBautizoError.textContent = "La fecha de bautizo no puede ser mayor que la fecha actual.";
                valid = false;
            } else {
                fechaBautizoError.textContent = "";
            }

            var telefono = telefonoInput.value;
            if (telefono.length !== 8) {
                telefonoError.textContent = "El teléfono debe tener exactamente 8 dígitos.";
                valid = false;
            } else {
                telefonoError.textContent = "";
            }

            if (!valid) {
                event.preventDefault();
            }
        });
    </script>
}
